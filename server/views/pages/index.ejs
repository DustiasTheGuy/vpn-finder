<html>
  <%- include("../partials/head") %>

  <style>
    .products-grid {
      gap: 20px;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
    }

    .star-yellow {
      color: rgb(223, 185, 18);
    }

    .star-yellow,
    .star-dark {
      font-size: 20px;
    }

    .products-grid a {
      box-shadow: 0 5px 15px rgb(0 0 0 / 8%);
      transition: box-shadow 200ms ease;
    }

    .products-grid a:hover {
      text-decoration: none;
      box-shadow: 0 22px 22px rgba(20, 20, 20, 0.08);
    }

    .uk-card {
      display: flex;
      padding: 0;
      flex-direction: column;
    }

    .uk-card .uk-card-media-top {
      flex-grow: 1;
      max-height: 50%;
      padding: 0;
    }

    .uk-card .uk-card-media-top img {
      height: 250px;
      width: 100%;
    }

    .uk-card .uk-card-body {
      height: 50%;
      padding: 20px;
      background-color: #fff;
    }

    .uk-card .uk-card-body h3 {
      margin-bottom: 10px;
    }

    .uk-card .uk-card-body p {
      margin-top: 10px;
    }

    @media (max-width: 990px) {
      .products-grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    @media (max-width: 660px) {
      .products-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <body>
    <main class="uk-margin-bottom">
      <div class="uk-container uk-margin-large-top">
        <div class="jumbotron">
          <h1>Checkout Our Offers</h1>

          <p>
            We will help you find the perfect VPN for your needs and for your
            budget. Everyone should have access to a VPN and control over their
            privacy. Try one of our tested and proven VPN providers below!
          </p>
        </div>
      </div>

      <div class="uk-container">
        <div class="products-grid" uk-grid>
          <% products.forEach(product => { %>
          <a href="/<%= product._id %>">
            <div class="uk-card uk-card-default">
              <div class="uk-card-media-top">
                <img src="<%= product.image %>" alt="<%= product.title %>" />
              </div>
              <div class="uk-card-body">
                <div class="uk-flex uk-flex-between uk-flex-middle">
                  <h3 class="uk-card-title uk-margin-remove">
                    <%= product.title %>
                  </h3>
                  <div class="uk-flex" style="gap: 3px">
                    <% for(let i = 0; i < 5-product.rating; i++) { %>
                    <span class="material-icons-outlined star-dark">
                      star
                    </span>
                    <% } for(let i = 0; i < product.rating; i++) { %>
                    <span class="material-icons-outlined star-yellow">
                      star
                    </span>
                    <% } %>
                  </div>
                </div>
                <p><%= product.description %></p>

                <ul class="uk-list uk-list-divider">
                  <% product.features.slice(0, 3).forEach(feature => { %>
                  <li><%= feature %></li>
                  <% }) %>
                  <li>And more</li>
                </ul>
              </div>
            </div>
          </a>
          <% }) %>
        </div>
      </div>
    </main>
  </body>
</html>
